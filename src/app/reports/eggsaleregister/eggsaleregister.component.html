<!-- <div class="right_col" role="main" style="height :900px;">
    <div>
      <div class="header">
        <h3>Egg sales Register</h3>
      </div>      
    </div>
    <div class="clearfix"></div>
    <div class="row">
      <div class="row">
        <div class="row">
          <form class="form-horizontal form-label-left" [formGroup]="eggSaleFilterForm">
            <div class="x_conten"> 
            <div class="row" style="padding:4px 20px;border-bottom: 0 none;">
              <mat-form-field class="col-md-2">
                <input matInput [matDatepicker]="picker" placeholder="From Date" [(ngModel)]="FROMDATE"
                  formControlName="fromDate" readonly [max]="date" (dateChange)="onDateChange($event)">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
              </mat-form-field>
              <mat-form-field class="col-md-2">
                <input matInput [matDatepicker]="picker1" placeholder="To Date" [(ngModel)]="date" formControlName="toDate"
                  readonly [min]="FROMDATE" [max]="date">
                <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                <mat-datepicker #picker1></mat-datepicker>
              </mat-form-field>
              <div class="col-md-4">
                <button type="button" class="btn btn-primary" title="Search" data-toggle="tooltip"
                  (click)="GetEggSaleDetails()" [disabled]="">Search</button>
                <button type="button" class="btn btn-primary" title="Clear" data-toggle="tooltip" (click)="onClearSearch()"
                  [disabled]="">Clear</button>
              </div>
              <button type="button" class="btn btn-primary pull-right" title="Export" data-toggle="tooltip"
                (click)="download()">Export</button>
            </div>
          </div>
          </form>
        </div>
      </div>
      <p-table [value]="salesRegList.SaleRegisterDetails" [tableStyle]="{'table-layout':'auto'}" [rows]="10" [paginator]="true" [rowsPerPageOptions]="[10,20,30]">
          <ng-template pTemplate="header">
            <tr>              
              <th [pSortableColumn]="'Date'">Date
                <p-sortIcon [field]="Date"></p-sortIcon>
              </th>
              <th [pSortableColumn]="'Name'">Trader
                  <p-sortIcon [field]="Name"></p-sortIcon>
              </th>
              <th [pSortableColumn]="'LorryNumber'">Lorry Number
                <p-sortIcon [field]="LorryNumber"></p-sortIcon>
              </th>
              <th [pSortableColumn]="'NumberofBoxes'">No.of Boxes
                <p-sortIcon [field]="NumberofBoxes"></p-sortIcon>
              </th>
              <th [pSortableColumn]="'NECCRate'">NECC Rate
                <p-sortIcon [field]="NECCRate"></p-sortIcon>
              </th>
              <th [pSortableColumn]="'BillRate'">Bill Rate
                <p-sortIcon [field]="BillRate"></p-sortIcon>
              </th>
              <th [pSortableColumn]="'BillAmount'">Bill Amount
                <p-sortIcon [field]="BillAmount"></p-sortIcon>
              </th>
              
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-row let-rowIndex="rowIndex">
            <tr>              
              <td class="text-left">{{row.Date| date:'dd/MM/yyyy'}}</td>
              <td class="text-left">{{row.Name}}</td>
              <td class="text-left">{{row.LorryNumber}}</td>
              <td class="textright">{{row.NumberofBoxes}}</td>
              <td class="textright">{{row.NECCRate}}</td>
              <td class="textright">{{row.BillRate}}</td>
              <td class="textright">{{row.BillAmount}}</td>              
            </tr>

          </ng-template>
          <ng-template pTemplate="emptymessage" let-columns>
            <tr>
              <td colspan="7" class="ui-datatable-emptymessage text-center">No Records Found</td>
            </tr>
          </ng-template>
        </p-table>
    </div>
  </div> -->
  <div class="right_col" role="main">
      <div>
        <div class="header pull-left">
          <h3>Egg Sale Report</h3>
        </div>
      </div>
      <div class="clearfix"></div>
  <div class="row"style="padding-left:12px;border-bottom:  none;">
      <div class="row">
        <form class="form-horizontal form-label-left" [formGroup]="eggSaleFilterForm">
          <div class="row" style="padding:4px 20px;border-bottom: 0 none;">
                <mat-form-field class="col-md-2">
                  <input matInput [matDatepicker]="picker" placeholder="From Date" [(ngModel)]="FROMDATE" formControlName="fromDate" readonly [max]="date"  (dateChange)="onDateChange($event)" >
                  <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                  <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
                <mat-form-field class="col-md-2">
                  <input matInput [matDatepicker]="picker1" placeholder="To Date" [(ngModel)]="selectedDate" formControlName="toDate" readonly [min]="FROMDATE"  [max]="date">
                  <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                  <mat-datepicker #picker1></mat-datepicker>
                </mat-form-field>    
                <div class="col-md-4">
                  <button type="button" class="btn btn-primary" title="Search" data-toggle="tooltip" (click)="GetSaleRegister()" [disabled]="">Search</button>
                  <button type="button" class="btn btn-primary" title="Clear" data-toggle="tooltip" (click)="onClearSearch()" [disabled]="">Clear</button>                
                </div> 
                <button type="button" class="btn btn-primary pull-right" title="Export" data-toggle="tooltip" (click)="download()">Export</button>
          </div>
        </form>
      </div>
      <div *ngFor="let reg of finalreq">
        <br>  
        <div class="row">
          <Label style="padding:4px 10px;border-bottom: 0 none;"  class="col-sm-6 col-md-3">
            <h4><b class="text-danger"> {{reg.traderName}}</b></h4>
          </Label> 
        </div>
        {{reg.traderName}}
        <div class="row">
            <Label class="col-xs-12 col-sm-6 col-md-3" style="font-size:17px;margin-top: 12px; padding:6px 30px;border-bottom: 0 none;" *ngIf="reg.billingAmount !=null">Billing Amt:
                <b class="text-danger">{{reg.billingAmount  | currency: 'INR'}}</b>
              </Label>
              <Label class="col-xs-12 col-sm-6 col-md-3" style="font-size:17px;margin-top: 12px; padding:6px 30px;border-bottom: 0 none;"  *ngIf="reg.numberofBoxes !=null" >No.Of Cartons:
                <b class="text-danger">{{reg.numberofBoxes }}</b>
              </Label>
              <Label class="col-xs-12 col-sm-6 col-md-3" style="font-size:17px;margin-top: 12px; padding:6px 30px;border-bottom: 0 none;" *ngIf="reg.billingAmount !=null">Received Amt:
                <b class="text-danger"> {{reg.receivedAmount  | currency: 'INR'}}</b>
              </Label>
              <Label class="col-xs-12 col-sm-6 col-md-3" style="font-size:17px;margin-top: 12px; padding:6px 30px;border-bottom: 0 none;" *ngIf="reg.billingAmount !=null">Due Amt:
                <b class="text-danger"> {{reg.dueAmount  | currency: 'INR'}}</b>
              </Label>
        </div>
        <div class="col-md-12" style="margin-bottom: 20px;">
          <p-table #dt [value]="reg.saleTransactions" [tableStyle]="{'table-layout':'auto'}" [rows]="10" [paginator]="true" [rowsPerPageOptions]="[10,20,30]"
            [globalFilterFields]="['Date','LorryNumber','NumberofBoxes','NECCRate','BillRate','BillAmount']">
            <ng-template pTemplate="header">
              <tr>
                <th [pSortableColumn]="'Date'">Date
                  <p-sortIcon [field]="Date"></p-sortIcon>
                </th>
                <th [pSortableColumn]="'LorryNumber'">Lorry Number
                  <p-sortIcon [field]="LorryNumber"></p-sortIcon>
                </th>
                <th [pSortableColumn]="'NumberofBoxes'">No.of Cartons
                  <p-sortIcon [field]="NumberofBoxes"></p-sortIcon>
                </th>
                <th [pSortableColumn]="'NECCRate'">NECC Rate
                  <p-sortIcon [field]="NECCRate"></p-sortIcon>
                </th>
                <th [pSortableColumn]="'BillRate'">Bill Rate
                  <p-sortIcon [field]="BillRate"></p-sortIcon>
                </th>
                <th [pSortableColumn]="'BillAmount'">Bill Amount
                  <p-sortIcon [field]="BillAmount"></p-sortIcon>
                </th>
               
                <th [pSortableColumn]="'CumulativeAmount'">Cumulative Amount
                  <p-sortIcon [field]="CumulativeAmount"></p-sortIcon>
                </th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-row let-rowIndex="rowIndex">
              <tr>
                <td class="text-left">{{row.Date| date:'dd/MM/yyyy'}}</td>
                <td class="text-left">{{row.LorryNumber}}</td>
                <td class="textright">{{row.NumberofBoxes|currency}}</td>
                <td class="textright">{{row.NECCRate}}</td>
                <td class="textright">{{row.BillRate.toFixed(2)}}</td>
                <td class="textright">{{row.BillAmount|currency}}</td>
                <td class="textright">{{row.CummulativeBillAmount |currency}}</td>   
              </tr>
  
            </ng-template>
            <ng-template pTemplate="emptymessage" let-columns>
              <tr>
                <td colspan="7" class="ui-datatable-emptymessage text-center">No Records Found</td>
              </tr>
            </ng-template>
          </p-table>
        </div>
        <br>
        <br>
        <br>
      </div>
    </div>
    </div>